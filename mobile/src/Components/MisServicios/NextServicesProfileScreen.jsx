import { View, Text, TouchableOpacity, Touchable } from "react-native";
import { useSelector } from "react-redux";
import { Svg, Path } from "react-native-svg";
import { useNavigation } from "@react-navigation/native";
import { useEffect, useState } from "react";

export const NextServices = () => {
  const navigation = useNavigation();
  // const [horses, setHorses] = useState([])

  const serviciosSolicitados = useSelector(
    (state) => state.ReducerMisServicios.servicios
  );
  console.log("todos los servicios", serviciosSolicitados);
  const profileHorses = useSelector((state) => state.ReducerHorse.myHorse);
  // console.log("serhorses", profileHorses);


  return (
    <View>
      {profileHorses.length ?
        <View>
          <View className="p-5 bg-white gap-y-1.5 justify-start items-start mt-4 border border-slate-300 rounded-xl">
            <View className="p-4 bg-zinc-100 rounded-full justify-start items-start">
              <Svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <Path
                  d="M21.75 10C21.75 8.483 20.517 7.25 19 7.25C17.483 7.25 16.25 8.483 16.25 10C16.25 11.255 17.099 12.3041 18.25 12.6331V15.5C18.25 18.119 16.119 20.25 13.5 20.25C10.881 20.25 8.75 18.119 8.75 15.5V14.686C11.764 14.368 13.75 12.179 13.75 9V4.5C13.75 3.091 12.909 2.25 11.5 2.25H11C10.586 2.25 10.25 2.586 10.25 3C10.25 3.414 10.586 3.75 11 3.75H11.5C12.089 3.75 12.25 3.911 12.25 4.5V9C12.25 11.582 10.582 13.25 8 13.25C5.418 13.25 3.75 11.582 3.75 9V4.5C3.75 3.911 3.911 3.75 4.5 3.75H5C5.414 3.75 5.75 3.414 5.75 3C5.75 2.586 5.414 2.25 5 2.25H4.5C3.091 2.25 2.25 3.091 2.25 4.5V9C2.25 12.178 4.236 14.368 7.25 14.686V15.5C7.25 18.946 10.054 21.75 13.5 21.75C16.946 21.75 19.75 18.946 19.75 15.5V12.6331C20.901 12.3041 21.75 11.255 21.75 10ZM19 11.25C18.311 11.25 17.75 10.689 17.75 10C17.75 9.311 18.311 8.75 19 8.75C19.689 8.75 20.25 9.311 20.25 10C20.25 10.689 19.689 11.25 19 11.25Z"
                  fill="#25314C"
                />
              </Svg>
            </View>
            <View>
              <Text className="w-[279px] text-[#020623] text-xl font-bold font-lato leading-[30px]">
                Sanidad
              </Text>
            </View>

            <View>
              <View className="flex flex-row items-center pt-2">
                <Svg
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="ml-1"
                >
                  <Path
                    d="M9.68013 0C9.83412 0 9.98847 0 10.1425 0C10.1635 0.00949219 10.1834 0.0239062 10.2054 0.0274219C11.7685 0.286523 12.781 1.45617 12.7668 3.02098C12.7639 3.33527 12.8554 3.5448 13.0837 3.77367C14.4561 5.15039 15.8161 6.53906 17.1551 7.94742C17.8316 8.65898 18.0962 9.53191 17.9692 10.5071C17.7473 12.2119 15.9253 13.2996 14.2918 12.7058C13.7043 12.4924 13.2494 12.1145 12.9194 11.6248C12.6295 11.8614 12.3699 12.1423 12.0502 12.3156C11.7333 12.4871 11.6419 12.702 11.5992 13.0345C11.309 15.2873 9.6122 17.1981 7.3958 17.7848C7.02628 17.8826 6.64325 17.9297 6.26626 18H5.41271C5.20288 17.967 4.99305 17.936 4.78357 17.9002C2.10945 17.4421 0.0459844 15.0701 0.0118423 12.3915C-0.00594013 10.9916 -0.002028 9.59133 0.0125536 8.19141C0.023223 7.1659 0.247281 6.17766 0.702866 5.25586C1.90247 2.83008 3.85355 1.3943 6.55896 0.97418C6.85024 0.928828 6.86091 0.931641 6.84953 0.642656C6.83672 0.328008 6.96725 0.116016 7.26172 0C7.41572 0 7.57007 0 7.72406 0C7.75038 0.0105469 7.77599 0.0267188 7.80337 0.0305859C8.27318 0.0931641 8.69783 0.268945 9.08691 0.532617C9.1431 0.570586 9.19751 0.611367 9.28714 0.675352C9.24908 0.325195 9.39952 0.120938 9.68013 0ZM10.5447 12.8827C10.2509 12.8658 9.96678 12.8644 9.68617 12.831C8.04735 12.6348 6.69944 11.0985 6.73181 9.4732C6.73785 9.16137 6.96405 8.92898 7.26279 8.92758C7.56545 8.92582 7.77848 9.14766 7.80088 9.46512C7.81547 9.66832 7.83467 9.87574 7.88802 10.0716C8.16116 11.0711 9.07517 11.7882 10.0905 11.8136C11.2044 11.8413 12.1266 11.198 12.4794 10.1471C12.5918 9.81176 12.7867 9.66832 13.0855 9.70031C13.354 9.72879 13.5289 9.93586 13.5542 10.254C13.6182 11.0609 14.2104 11.6856 15.0234 11.8041C15.7727 11.9134 16.5637 11.4391 16.8222 10.691C17.0986 9.89086 16.8735 9.18176 16.3044 8.58797C15.0081 7.23586 13.6979 5.89641 12.3852 4.55941C11.8709 4.03559 11.2418 3.69352 10.528 3.50543C10.475 3.49137 10.4195 3.48539 10.3672 3.47625C10.358 3.50754 10.3519 3.51844 10.3519 3.52969C10.3505 3.78176 10.3509 4.03348 10.3487 4.28555C10.3459 4.64062 10.1307 4.8825 9.81598 4.88566C9.49946 4.88918 9.28394 4.65047 9.28251 4.29152C9.28109 3.84047 9.29354 3.38871 9.27931 2.93801C9.25335 2.12449 8.8632 1.54055 8.11136 1.19988C8.05659 1.17527 7.99613 1.16297 7.91896 1.13871V1.3609C7.91896 2.31012 7.91896 3.25934 7.9186 4.20855C7.9186 4.28449 7.9186 4.36148 7.90793 4.43637C7.87344 4.67824 7.67463 4.86211 7.4303 4.88426C7.19166 4.9057 6.95764 4.75277 6.88047 4.52285C6.86411 4.47398 6.85415 4.42266 6.83886 4.36324C6.19691 4.46977 5.61436 4.70426 5.09725 5.08043C3.90405 5.94879 3.30087 7.12195 3.29412 8.58691C3.28771 9.98719 3.29269 11.3875 3.29269 12.7877C3.29269 13.2722 3.1042 13.4603 2.61981 13.4606C2.22255 13.4606 1.82565 13.4606 1.42839 13.461C1.37184 13.461 1.31494 13.4655 1.25554 13.4684C1.6624 15.1812 3.44882 17.0596 6.06461 16.9376C8.62421 16.818 10.3189 14.8233 10.5447 12.883V12.8827ZM6.85059 1.99266C6.63187 2.02816 6.44373 2.05102 6.25915 2.09004C3.19702 2.74043 1.07914 5.32863 1.07381 8.42695C1.07167 9.68027 1.07381 10.9336 1.07381 12.1869V12.3943H2.22611C2.22611 12.3135 2.22611 12.2446 2.22611 12.1753C2.22611 10.9807 2.22006 9.78574 2.22753 8.59113C2.23855 6.82664 2.94771 5.39437 4.35715 4.31051C5.05244 3.77613 5.84731 3.45656 6.71438 3.30715C6.76382 3.29871 6.84419 3.24598 6.84526 3.21223C6.85451 2.81566 6.85131 2.4191 6.85131 1.99301L6.85059 1.99266ZM10.3569 1.15312V2.35477C10.8086 2.49574 11.2489 2.6332 11.6874 2.76996C11.6671 2.0468 11.0447 1.28039 10.3569 1.15312Z"
                    fill="#25314C"
                  />
                  <Path
                    d="M11.1698 6.61748C11.1698 6.45365 11.1662 6.28982 11.1708 6.12634C11.1787 5.83244 11.3945 5.6106 11.6801 5.59724C11.9561 5.58424 12.215 5.79798 12.2296 6.08627C12.247 6.43642 12.2467 6.78834 12.2303 7.13849C12.2161 7.43732 11.9597 7.64545 11.6677 7.62927C11.3835 7.6131 11.1765 7.39127 11.1705 7.09138C11.1673 6.93353 11.1698 6.77568 11.1701 6.61748H11.1698Z"
                    fill="#25314C"
                  />
                </Svg>

                <Text className="ml-2.5 w-[257px] text-zinc-700 text-sm font-normal font-lato leading-tight">
                  {profileHorses[0]?.name}
                </Text>
              </View>

              <View className="flex flex-row items-center pt-2">
                <Svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <Path
                    d="M18 3.75H16.75V3C16.75 2.586 16.414 2.25 16 2.25C15.586 2.25 15.25 2.586 15.25 3V3.75H8.75V3C8.75 2.586 8.414 2.25 8 2.25C7.586 2.25 7.25 2.586 7.25 3V3.75H6C3.582 3.75 2.25 5.082 2.25 7.5V18C2.25 20.418 3.582 21.75 6 21.75H18C20.418 21.75 21.75 20.418 21.75 18V7.5C21.75 5.082 20.418 3.75 18 3.75ZM6 5.25H7.25V6C7.25 6.414 7.586 6.75 8 6.75C8.414 6.75 8.75 6.414 8.75 6V5.25H15.25V6C15.25 6.414 15.586 6.75 16 6.75C16.414 6.75 16.75 6.414 16.75 6V5.25H18C19.577 5.25 20.25 5.923 20.25 7.5V8.25H3.75V7.5C3.75 5.923 4.423 5.25 6 5.25ZM18 20.25H6C4.423 20.25 3.75 19.577 3.75 18V9.75H20.25V18C20.25 19.577 19.577 20.25 18 20.25Z"
                    fill="#25314C"
                  />
                </Svg>

                <Text className="ml-2 text-zinc-700 text-sm font-normal font-lato leading-tight">
                  13 de Noviembre de 2023
                </Text>
              </View>

              <View className="flex flex-row items-center pt-2">
                <Svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <Path
                    d="M18 3.75H16.75V3C16.75 2.586 16.414 2.25 16 2.25C15.586 2.25 15.25 2.586 15.25 3V3.75H8.75V3C8.75 2.586 8.414 2.25 8 2.25C7.586 2.25 7.25 2.586 7.25 3V3.75H6C3.582 3.75 2.25 5.082 2.25 7.5V18C2.25 20.418 3.582 21.75 6 21.75H18C20.418 21.75 21.75 20.418 21.75 18V7.5C21.75 5.082 20.418 3.75 18 3.75ZM6 5.25H7.25V6C7.25 6.414 7.586 6.75 8 6.75C8.414 6.75 8.75 6.414 8.75 6V5.25H15.25V6C15.25 6.414 15.586 6.75 16 6.75C16.414 6.75 16.75 6.414 16.75 6V5.25H18C19.577 5.25 20.25 5.923 20.25 7.5V8.25H3.75V7.5C3.75 5.923 4.423 5.25 6 5.25ZM18 20.25H6C4.423 20.25 3.75 19.577 3.75 18V9.75H20.25V18C20.25 19.577 19.577 20.25 18 20.25ZM14.53 13.53L13.0601 15L14.53 16.47C14.823 16.763 14.823 17.238 14.53 17.531C14.384 17.677 14.192 17.751 14 17.751C13.808 17.751 13.616 17.678 13.47 17.531L12 16.061L10.53 17.531C10.384 17.677 10.192 17.751 10 17.751C9.808 17.751 9.61597 17.678 9.46997 17.531C9.17697 17.238 9.17697 16.763 9.46997 16.47L10.9399 15L9.46997 13.53C9.17697 13.237 9.17697 12.762 9.46997 12.469C9.76297 12.176 10.238 12.176 10.531 12.469L12.001 13.939L13.4709 12.469C13.7639 12.176 14.239 12.176 14.532 12.469C14.825 12.762 14.823 13.237 14.53 13.53Z"
                    fill="#25314C"
                  />
                </Svg>
                <Text className="ml-2 text-zinc-700 text-sm font-normal font-lato leading-tight">
                  Vence el 13 de Enero de 2023
                </Text>
              </View>
            </View>

            <View className="pt-2 w-full">
              {/* <TouchableOpacity onPress={() => navigation.navigate("Services")}> */}
              <TouchableOpacity onPress={() => alert('Funcion no implementada')}>

                <View className="h-11 px-4 py-3 bg-white rounded-md border border-[#020623] justify-center items-center  inline-flex">
                  <Text className="text-[#020623] text-sm font-bold font-lato leading-tight">
                    Solicitar servicio
                  </Text>
                </View>
              </TouchableOpacity>
            </View>
          </View>

          {/* herraje */}
          <View className="mb-6 h-auto p-5 bg-white justify-start items-start gap-y-1.5 mt-[12] inline-flex border border-slate-300 rounded-xl">
            <View className="p-4 bg-zinc-100 rounded-full justify-start items-start inline-flex">
              <Svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <Path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M21.143 20.9523H19.7335C21.5621 17.638 22.6668 13.9047 22.6668 11.0475C22.6668 5.14276 17.9049 0.380859 12.0002 0.380859C6.0954 0.380859 1.3335 5.14276 1.3335 11.0475C1.3335 13.9047 2.85731 17.638 4.68588 20.9523H3.23826V23.619H8.15254C10.4383 23.619 9.52397 22.019 9.52397 22.019C9.52397 22.019 5.06683 15.0475 5.06683 10.9713C5.06683 7.19991 8.19064 4.15229 12.0383 4.15229C15.8859 4.15229 19.0097 7.19991 19.0097 10.9713C19.0097 14.9713 16.3811 18.7809 15.1621 21.9047C14.743 22.9332 15.2002 23.619 16.6097 23.619H21.143V20.9523Z"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M11.6191 2.66675H12.381"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M5.90479 4.19043H6.66669"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M16.9526 4.19043H17.7145"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M19.6191 7.23804H20.381"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M3.61914 7.19995H4.38105"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M20.3813 10.2856H21.1433"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M20.3813 13.7144H21.1433"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M3.23828 13.7144H4.00019"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M4.38135 17.1428H5.14325"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M19.2383 17.1428H20.0002"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M17.7144 20.9524H18.4382"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M5.90479 20.9524H6.66669"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
                <Path
                  d="M2.85742 10.2856H3.61933"
                  stroke="#25314C"
                  stroke-width="0.761905"
                />
              </Svg>
            </View>
            <View>
              <Text className="w-[279px] text-[#020623] text-xl font-bold font-lato leading-[30px]">
                Herraje
              </Text>
            </View>

            <View className="pt-2 w-full">
              <TouchableOpacity onPress={() => alert('Función no implementada')}>
                <View className="h-11 px-4 py-3 bg-white rounded-md border border-[#020623] justify-center items-center  inline-flex">
                  <Text className="text-[#020623] text-sm font-bold font-lato leading-tight">
                    Solicitar servicio
                  </Text>
                </View>
              </TouchableOpacity>
            </View>
          </View>
        </View>
        :
        (
          <View className="w-full h-[154px] bg-orange-50 rounded-xl flex flex-col mt-4 mb-16">
            <View className="p-4">
              <Svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <Path d="M16.2265 20H3.7758C2.43712 20 1.22776 19.2819 0.539348 18.0789C-0.146268 16.8789 -0.179893 15.4262 0.448046 14.193L6.59344 2.13877C7.27533 0.799198 8.54994 0 9.99932 0C11.4487 0 12.7231 0.799198 13.405 2.13877L19.5504 14.193C20.1802 15.4262 20.1467 16.8789 19.4602 18.0789C18.7764 19.2819 17.5661 20 16.2265 20ZM10.0011 1.46253C9.07458 1.46253 8.26141 1.97273 7.82511 2.8274L1.67971 14.8816C1.28434 15.6573 1.30668 16.5706 1.7374 17.3258C2.17091 18.0838 2.93294 18.5356 3.77671 18.5356H16.2276C17.0714 18.5356 17.8341 18.0829 18.2667 17.3258C18.6974 16.5716 18.7179 15.6582 18.3235 14.8816L12.1781 2.8274C11.7408 1.97273 10.9277 1.46253 10.0011 1.46253ZM10.6988 11.463V7.56038C10.6988 7.15646 10.3863 6.82864 10.0011 6.82864C9.616 6.82864 9.30343 7.15646 9.30343 7.56038V11.463C9.30343 11.8669 9.616 12.1947 10.0011 12.1947C10.3863 12.1947 10.6988 11.8669 10.6988 11.463ZM10.95 14.39C10.95 13.8514 10.5342 13.4143 10.0198 13.4143H10.0104C9.49693 13.4143 9.08471 13.8514 9.08471 14.39C9.08471 14.9285 9.50625 15.3656 10.0198 15.3656C10.5333 15.3656 10.95 14.9285 10.95 14.39Z" fill="#C70117" />
              </Svg>

            </View>
            <View className="px-4 py-1">
              <Text className="w-[291px] h-auto text-slate-800 text-sm font-normal font-lato leading-tight">No tienes ningún caballo cargado en tu perfil para poder ver los próximos servicios.</Text>
              <TouchableOpacity onPress={() => navigation.navigate("AddHorses")}>
                <Text className="text-zinc-800 text-sm font-bold font-lato leading-tight mt-2">Agregar caballo</Text>
              </TouchableOpacity>
            </View>

          </View>
        )
      }
    </View>
  );
};
